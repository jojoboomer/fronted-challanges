---
import { css } from "@styled-system/css";
import { flex } from "@styled-system/patterns";

interface Props {
  icon: any;
  placeholder: string;
  inputStyles?: any;
  iconStyles?: any;
  iconBtnStyles?: any;
  containerStyles?: any;
  onClick?: any;
}

const containerBase = flex({
  width: {
    base: "80%",
    md: "450px",
  },
  alignItems: "center",
  justifyContent: "center",
});

const searchBase = css({
  paddingX: "1.6rem",
  paddingY: "0.8rem",
  flex: 1,
  borderTopLeftRadius: "10px",
  borderBottomLeftRadius: "10px",
  outline: "none",
  border: "none",
  _hover: {
    cursor: "pointer",
  },
});

const iconBtnBase = flex({
  backgroundColor: "black",
  w: { base: "15%", md: "10%" },
  h: "100%",
  justifyContent: "center",
  alignItems: "center",
  borderTopRightRadius: "10px",
  borderBottomRightRadius: "10px",
  _hover: {
    cursor: "pointer",
  },
  _active: {
    bg: "gray.600",
  },
});

const iconBase = flex({
  h: "12px",
});

const {
  icon,
  placeholder,
  inputStyles = searchBase,
  containerStyles = containerBase,
  iconStyles = iconBase,
  iconBtnStyles = iconBtnBase,
} = Astro.props;
---

<div class={containerStyles}>
  <input class={inputStyles} type="text" placeholder={placeholder} />
  <button class={iconBtnStyles}
    ><img src={icon} alt="icon-btn" class={iconStyles} /></button
  >
</div>
